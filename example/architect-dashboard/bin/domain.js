/**
 * ðŸ›‘ DO NOT EDIT THIS FILE DIRECTLY
 * ----------------------------------
 * This file was generated by ISL Compiler.
 * Source: domain.isl.md
 * Edit the ISL file instead.
 */

// --- Enumerations ---

export const ProductAvailabilityStatus = {
  IN_STOCK: 'IN_STOCK',
  OUT_OF_STOCK: 'OUT_OF_STOCK',
  LOW_STOCK: 'LOW_STOCK',
  DISCONTINUED: 'DISCONTINUED',
};

export const OrderStatus = {
  PENDING: 'PENDING',
  PROCESSING: 'PROCESSING',
  SHIPPED: 'SHIPPED',
  DELIVERED: 'DELIVERED',
  CANCELLED: 'CANCELLED',
  RETURNED: 'RETURNED',
};

export const PaymentStatus = {
  PENDING: 'PENDING',
  PAID: 'PAID',
  REFUNDED: 'REFUNDED',
  FAILED: 'FAILED',
};

export const CustomerStatus = {
  ACTIVE: 'ACTIVE',
  INACTIVE: 'INACTIVE',
  PENDING: 'PENDING',
};

export const UserRole = {
  ADMIN: 'ADMIN',
  EDITOR: 'EDITOR',
  VIEWER: 'VIEWER',
};

// --- Domain Factories ---

/**
 * Represents a unique identifier for customers.
 * As per ISL, it's a primitive wrapper, directly returning a string.
 * @param {string} value - The customer ID string.
 * @returns {string} The customer ID.
 */
export const CustomerId = (value = '') => value;

/**
 * Represents a physical address.
 * @param {object} data - Initial data for the address.
 * @returns {object} An Address object.
 */
export const Address = (data = {}) => ({
  street: data.street ?? '',
  city: data.city ?? '',
  state: data.state ?? '',
  zipCode: data.zipCode ?? '',
  country: data.country ?? '',
});

/**
 * Represents a single product available for sale.
 * @param {object} data - Initial data for the product.
 * @returns {object} A Product object.
 */
export const Product = (data = {}) => ({
  id: data.id ?? '',
  name: data.name ?? '',
  description: data.description ?? '',
  price: data.price ?? 0,
  sku: data.sku ?? '',
  category: data.category ?? '',
  stockQuantity: data.stockQuantity ?? 0,
  imageUrl: data.imageUrl ?? '',
  availabilityStatus: data.availabilityStatus ?? ProductAvailabilityStatus.OUT_OF_STOCK,
  createdAt: data.createdAt instanceof Date ? data.createdAt : new Date(),
  updatedAt: data.updatedAt instanceof Date ? data.updatedAt : new Date(),
});

/**
 * Represents a single product item within an order.
 * @param {object} data - Initial data for the order item.
 * @returns {object} An OrderItem object.
 */
export const OrderItem = (data = {}) => {
  const quantity = data.quantity ?? 0;
  const unitPrice = data.unitPrice ?? 0;
  return {
    productId: data.productId ?? '',
    productName: data.productName ?? '',
    quantity: quantity,
    unitPrice: unitPrice,
    subtotal: (quantity * unitPrice), // Calculated field
  };
};

/**
 * Represents a customer's purchase transaction.
 * @param {object} data - Initial data for the order.
 * @returns {object} An Order object.
 */
export const Order = (data = {}) => ({
  id: data.id ?? '',
  customerId: data.customerId ?? CustomerId(),
  orderDate: data.orderDate instanceof Date ? data.orderDate : new Date(),
  status: data.status ?? OrderStatus.PENDING,
  totalAmount: data.totalAmount ?? 0,
  items: Array.isArray(data.items) ? data.items.map(item => OrderItem(item)) : [],
  shippingAddress: data.shippingAddress ?? '',
  billingAddress: data.billingAddress ?? '',
  paymentStatus: data.paymentStatus ?? PaymentStatus.PEND_ING,
  createdAt: data.createdAt instanceof Date ? data.createdAt : new Date(),
  updatedAt: data.updatedAt instanceof Date ? data.updatedAt : new Date(),
});

/**
 * Represents a registered customer of the e-commerce system.
 * @param {object} data - Initial data for the customer.
 * @returns {object} A Customer object.
 */
export const Customer = (data = {}) => ({
  id: data.id ?? CustomerId(),
  firstName: data.firstName ?? '',
  lastName: data.lastName ?? '',
  email: data.email ?? '',
  phoneNumber: data.phoneNumber ?? '',
  shippingAddress: data.shippingAddress ? Address(data.shippingAddress) : Address(),
  billingAddress: data.billingAddress ? Address(data.billingAddress) : Address(),
  status: data.status ?? CustomerStatus.PENDING,
  totalOrders: data.totalOrders ?? 0,
  totalSpent: data.totalSpent ?? 0,
  createdAt: data.createdAt instanceof Date ? data.createdAt : new Date(),
  updatedAt: data.updatedAt instanceof Date ? data.updatedAt : new Date(),
});

/**
 * A lightweight representation of a customer, typically for lists or quick views.
 * @param {object} data - Initial data for the customer summary.
 * @returns {object} A CustomerSummary object.
 */
export const CustomerSummary = (data = {}) => ({
  id: data.id ?? CustomerId(),
  name: data.name ?? '',
  email: data.email ?? '',
  status: data.status ?? CustomerStatus.PENDING,
});

/**
 * A detailed representation of a customer's profile.
 * @param {object} data - Initial data for the customer profile.
 * @returns {object} A CustomerProfile object.
 */
export const CustomerProfile = (data = {}) => ({
  id: data.id ?? CustomerId(),
  name: data.name ?? '',
  email: data.email ?? '',
  phone: data.phone ?? '',
  address: data.address ? Address(data.address) : Address(),
  status: data.status ?? CustomerStatus.PENDING,
  totalOrders: data.totalOrders ?? 0,
  lastOrderDate: data.lastOrderDate instanceof Date ? data.lastOrderDate : null, // Optional DateTime
});

/**
 * Criteria for filtering a list of customers.
 * @param {object} data - Initial data for the customer filter.
 * @returns {object} A CustomerFilter object.
 */
export const CustomerFilter = (data = {}) => ({
  status: data.status ?? null, // Optional
  searchQuery: data.searchQuery ?? null, // Optional
});

/**
 * Represents a partial update request for a customer's profile.
 * @param {object} data - Initial data for the update.
 * @returns {object} A CustomerProfileUpdate object.
 */
export const CustomerProfileUpdate = (data = {}) => ({
  firstName: data.firstName ?? null, // Optional
  lastName: data.lastName ?? null, // Optional
  email: data.email ?? null, // Optional
  phoneNumber: data.phoneNumber ?? null, // Optional
  shippingAddress: data.shippingAddress ? Address(data.shippingAddress) : null, // Optional
  billingAddress: data.billingAddress ? Address(data.billingAddress) : null, // Optional
  status: data.status ?? null, // Optional
});

/**
 * Represents an administrative user of the E-Commerce Dashboard.
 * @param {object} data - Initial data for the user.
 * @returns {object} A User object.
 */
export const User = (data = {}) => ({
  id: data.id ?? '',
  username: data.username ?? '',
  email: data.email ?? '',
  role: data.role ?? UserRole.VIEWER,
  lastLogin: data.lastLogin instanceof Date ? data.lastLogin : null, // Optional DateTime
  createdAt: data.createdAt instanceof Date ? data.createdAt : new Date(),
  updatedAt: data.updatedAt instanceof Date ? data.updatedAt : new Date(),
});