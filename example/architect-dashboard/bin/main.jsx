/**
 * ðŸ›‘ DO NOT EDIT THIS FILE DIRECTLY
 * ----------------------------------
 * This file was generated by ISL Compiler.
 * Source: main.isl.md
 * Edit the ISL file instead.
 */

import React, { useState } from 'react';
import DashboardPresentation from './dashboard-presentation';
import ProductManagementPage from './product-presentation';
import OrderDashboardPage from './order-presentation';
import CustomerPresentation from './customer-presentation';

// Component: MainApplication
// Role: Presentation
// Description: The root component of the E-Commerce Dashboard, responsible for overall application layout, navigation, and rendering the active section.
export default function MainApplication() {
    // Capability: initializeApplication
    // Contract: Sets the initial view of the application, typically to the Dashboard.
    // Flow: Set the internal `currentView` state to "Dashboard".
    const [currentView, setCurrentView] = useState('Dashboard');

    // Capability: navigateToDashboard
    // Contract: Switches the application's main content area to display the Dashboard.
    // Flow: Update the internal `currentView` state to "Dashboard".
    const navigateToDashboard = () => {
        setCurrentView('Dashboard');
    };

    // Capability: navigateToProducts
    // Contract: Switches the application's main content area to display the Product Management section.
    // Flow: Update the internal `currentView` state to "Products".
    const navigateToProducts = () => {
        setCurrentView('Products');
    };

    // Capability: navigateToOrders
    // Contract: Switches the application's main content area to display the Order Management section.
    // Flow: Update the internal `currentView` state to "Orders".
    const navigateToOrders = () => {
        setCurrentView('Orders');
    };

    // Capability: navigateToCustomers
    // Contract: Switches the application's main content area to display the Customer Management section.
    // Flow: Update the internal `currentView` state to "Customers".
    const navigateToCustomers = () => {
        setCurrentView('Customers');
    };

    // Capability: handleDashboardViewAllOrders
    // Contract: Responds to a request from the Dashboard to view all orders by navigating to the Orders section.
    // Flow: Trigger `navigateToOrders`.
    const handleDashboardViewAllOrders = () => {
        navigateToOrders();
    };

    // Capability: handleDashboardViewAllProducts
    // Contract: Responds to a request from the Dashboard to view all products by navigating to the Products section.
    // Flow: Trigger `navigateToProducts`.
    const handleDashboardViewAllProducts = () => {
        navigateToProducts();
    };

    // Capability: renderActiveView
    // Contract: Renders the appropriate presentation component based on the current internal `currentView` state.
    const renderActiveView = () => {
        switch (currentView) {
            case 'Dashboard':
                // IF `currentView` is "Dashboard":
                // Render `DashboardPresentation`.
                // Pass `onViewAllOrders` as `handleDashboardViewAllOrders`.
                // Pass `onViewAllProducts` as `handleDashboardViewAllProducts`.
                return (
                    <DashboardPresentation
                        onViewAllOrders={handleDashboardViewAllOrders}
                        onViewAllProducts={handleDashboardViewAllProducts}
                    />
                );
            case 'Products':
                // IF `currentView` is "Products":
                // Render `ProductManagementPage`.
                return <ProductManagementPage />;
            case 'Orders':
                // IF `currentView` is "Orders":
                // Render `OrderDashboardPage`.
                return <OrderDashboardPage />;
            case 'Customers':
                // IF `currentView` is "Customers":
                // Render `CustomerPresentation`.
                return <CustomerPresentation />;
            default:
                return null; // Fallback for unknown view
        }
    };

    // Helper function for dynamic navigation item styling
    const navItemClass = (viewName) =>
        `px-4 py-2 rounded-md text-sm font-medium cursor-pointer transition-colors duration-200 w-full text-left ${
            currentView === viewName
                ? 'bg-blue-600 text-white shadow-sm'
                : 'text-gray-700 hover:bg-gray-200'
        }`;

    return (
        <div className="min-h-screen bg-gray-100 flex">
            {/* Navigation Sidebar */}
            <nav className="w-64 bg-white shadow-md p-4 flex flex-col">
                <div className="text-2xl font-bold text-gray-800 mb-6">
                    E-Commerce Dashboard
                </div>
                <ul className="space-y-2">
                    <li>
                        <button
                            onClick={navigateToDashboard}
                            className={navItemClass('Dashboard')}
                        >
                            Dashboard
                        </button>
                    </li>
                    <li>
                        <button
                            onClick={navigateToProducts}
                            className={navItemClass('Products')}
                        >
                            Products
                        </button>
                    </li>
                    <li>
                        <button
                            onClick={navigateToOrders}
                            className={navItemClass('Orders')}
                        >
                            Orders
                        </button>
                    </li>
                    <li>
                        <button
                            onClick={navigateToCustomers}
                            className={navItemClass('Customers')}
                        >
                            Customers
                        </button>
                    </li>
                </ul>
            </nav>

            {/* Main Content Area */}
            <main className="flex-1 p-6 overflow-auto">
                {renderActiveView()}
            </main>
        </div>
    );
}