/**
 * ðŸ›‘ DO NOT EDIT THIS FILE DIRECTLY
 * ----------------------------------
 * This file was generated by ISL Compiler.
 * Source: calculator-ui.isl.md
 * Edit the ISL file instead.
 */

import React from 'react';
import { OperationType } from './domain';

/**
 * Component: CalculatorDisplay
 * Role: Presentation
 * Signature: (value: string)
 *
 * Displays text in a large font size, right-aligned, with a dark background and white text.
 * MUST NOT contain any business logic.
 * MUST display the exact `value` string provided.
 */
export function CalculatorDisplay({ value }) {
  return (
    <div className="bg-gray-800 text-white text-4xl p-4 text-right rounded-t-lg overflow-hidden">
      {value}
    </div>
  );
}

/**
 * Component: CalculatorButton
 * Role: Presentation
 * Signature: (label: string, type: 'digit' | 'operator' | 'action', onClick: () => void)
 *
 * A button with `label` text, whose styling varies based on `type`.
 * Triggers the provided `onClick` callback when pressed.
 * MUST NOT contain any business logic.
 * MUST only trigger the `onClick` handler.
 */
export function CalculatorButton({ label, type, onClick }) {
  let buttonClasses = "p-4 text-2xl font-semibold rounded-lg transition-colors duration-200";

  switch (type) {
    case 'digit':
      buttonClasses += " bg-gray-700 hover:bg-gray-600 text-white";
      break;
    case 'operator':
      buttonClasses += " bg-orange-500 hover:bg-orange-600 text-white";
      break;
    case 'action':
      buttonClasses += " bg-gray-500 hover:bg-gray-400 text-white";
      break;
    default:
      buttonClasses += " bg-gray-600 hover:bg-gray-500 text-white";
  }

  return (
    <button className={buttonClasses} onClick={onClick}>
      {label}
    </button>
  );
}

/**
 * Component: CalculatorKeypad
 * Role: Presentation
 * Signature: (onDigit: (digit: string) => void, onOperator: (op: OperationType) => void, onEquals: () => void, onClear: () => void, onDecimal: () => void, onToggleSign: () => void)
 *
 * A grid layout arranging `CalculatorButton` components for digits, operators, and actions.
 * Each `CalculatorButton` passes its specific value/type to the corresponding handler from props.
 * MUST NOT contain any business logic.
 * MUST only dispatch events to the provided handlers.
 */
export function CalculatorKeypad({ onDigit, onOperator, onEquals, onClear, onDecimal, onToggleSign }) {
  return (
    <div className="grid grid-cols-4 gap-2 p-2 bg-gray-900 rounded-b-lg">
      {/* Row 1: Clear, Toggle Sign, Divide, Multiply */}
      <CalculatorButton label="C" type="action" onClick={onClear} />
      <CalculatorButton label="+/-" type="action" onClick={onToggleSign} />
      <CalculatorButton label="/" type="operator" onClick={() => onOperator(OperationType.DIVIDE)} />
      <CalculatorButton label="x" type="operator" onClick={() => onOperator(OperationType.MULTIPLY)} />

      {/* Row 2: 7, 8, 9, Subtract */}
      <CalculatorButton label="7" type="digit" onClick={() => onDigit("7")} />
      <CalculatorButton label="8" type="digit" onClick={() => onDigit("8")} />
      <CalculatorButton label="9" type="digit" onClick={() => onDigit("9")} />
      <CalculatorButton label="-" type="operator" onClick={() => onOperator(OperationType.SUBTRACT)} />

      {/* Row 3: 4, 5, 6, Add */}
      <CalculatorButton label="4" type="digit" onClick={() => onDigit("4")} />
      <CalculatorButton label="5" type="digit" onClick={() => onDigit("5")} />
      <CalculatorButton label="6" type="digit" onClick={() => onDigit("6")} />
      <CalculatorButton label="+" type="operator" onClick={() => onOperator(OperationType.ADD)} />

      {/* Row 4: 1, 2, 3, Equals */}
      <CalculatorButton label="1" type="digit" onClick={() => onDigit("1")} />
      <CalculatorButton label="2" type="digit" onClick={() => onDigit("2")} />
      <CalculatorButton label="3" type="digit" onClick={() => onDigit("3")} />
      <CalculatorButton label="=" type="operator" onClick={onEquals} />

      {/* Row 5: 0, Decimal */}
      <CalculatorButton label="0" type="digit" onClick={() => onDigit("0")} />
      <CalculatorButton label="." type="action" onClick={onDecimal} />
      {/* The remaining two slots in the 4x5 grid are implicitly empty as no buttons are rendered for them. */}
    </div>
  );
}

/**
 * Component: CalculatorApp
 * Role: Presentation
 * Signature: (displayValue: string, onDigit: (digit: string) => void, onOperator: (op: OperationType) => void, onEquals: () => void, onClear: () => void, onDecimal: () => void, onToggleSign: () => void)
 *
 * A container that visually groups the display and keypad.
 * The `CalculatorDisplay` is positioned above the `CalculatorKeypad`.
 * MUST NOT contain any business logic.
 * MUST only pass `displayValue` to `CalculatorDisplay` and event handlers to `CalculatorKeypad`.
 */
export default function CalculatorApp({ displayValue, onDigit, onOperator, onEquals, onClear, onDecimal, onToggleSign }) {
  return (
    <div className="bg-gray-900 p-4 rounded-lg shadow-xl max-w-xs mx-auto mt-10">
      <CalculatorDisplay value={displayValue} />
      <CalculatorKeypad
        onDigit={onDigit}
        onOperator={onOperator}
        onEquals={onEquals}
        onClear={onClear}
        onDecimal={onDecimal}
        onToggleSign={onToggleSign}
      />
    </div>
  );
}