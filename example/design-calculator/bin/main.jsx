/**
 * ðŸ›‘ DO NOT EDIT THIS FILE DIRECTLY
 * ----------------------------------
 * This file was generated by ISL Compiler.
 * Source: main.isl.md
 * Edit the ISL file instead.
 */

import React, { useState, useCallback } from 'react';
import { OperationType } from "./domain";
import {
  initializeState,
  processDigit,
  processDecimal,
  processOperator,
  processEquals,
  clear,
  toggleSign
} from "./calculator-logic";
import CalculatorApp from "./calculator-ui";

export default function Main() {
  const [calculatorState, setCalculatorState] = useState(() => initializeState());

  const handleDigit = useCallback((digit) => {
    setCalculatorState(prevState => processDigit(prevState, digit));
  }, []);

  const handleDecimal = useCallback(() => {
    setCalculatorState(prevState => processDecimal(prevState));
  }, []);

  const handleOperator = useCallback((op) => {
    setCalculatorState(prevState => processOperator(prevState, op));
  }, []);

  const handleEquals = useCallback(() => {
    setCalculatorState(prevState => processEquals(prevState));
  }, []);

  const handleClear = useCallback(() => {
    setCalculatorState(prevState => clear(prevState));
  }, []);

  const handleToggleSign = useCallback(() => {
    setCalculatorState(prevState => toggleSign(prevState));
  }, []);

  return (
    <CalculatorApp
      displayValue={calculatorState.displayValue}
      onDigit={handleDigit}
      onOperator={handleOperator}
      onEquals={handleEquals}
      onClear={handleClear}
      onDecimal={handleDecimal}
      onToggleSign={handleToggleSign}
    />
  );
}